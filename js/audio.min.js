!function(a,b,c){c[a]={instanceCount:0,instances:{},settings:{autoplay:!1,loop:!1,preload:!0,createPlayer:{markup:'<div class="play-pause"><p class="play"></p><p class="pause"></p><p class="loading"></p><p class="error"></p></div><div class="scrubber"><div class="progress"></div><div class="loaded"></div></div><div class="time"><em class="played">00:00</em>/<strong class="duration">00:00</strong></div><div class="error-message"></div>',playPauseClass:"play-pause",scrubberClass:"scrubber",progressClass:"progress",loaderClass:"loaded",timeClass:"time",durationClass:"duration",playedClass:"played",errorMessageClass:"error-message",playingClass:"playing",loadingClass:"loading",errorClass:"error"},trackEnded:function(){},loadError:function(){var b=this.settings.createPlayer,e=d(b.errorMessageClass,this.wrapper);c[a].helpers.removeClass(this.wrapper,b.loadingClass),c[a].helpers.addClass(this.wrapper,b.errorClass),e.innerHTML='Error loading: "'+this.mp3+'"'},init:function(){c[a].helpers.addClass(this.wrapper,this.settings.createPlayer.loadingClass)},loadStarted:function(){var b=this.settings.createPlayer,e=d(b.durationClass,this.wrapper),f=Math.floor(this.duration/60),g=Math.floor(this.duration%60);c[a].helpers.removeClass(this.wrapper,b.loadingClass),e.innerHTML=(10>f?"0":"")+f+":"+(10>g?"0":"")+g},loadProgress:function(a){var b=this.settings.createPlayer,c=d(b.scrubberClass,this.wrapper);d(b.loaderClass,this.wrapper).style.width=c.offsetWidth*a+"px"},playPause:function(){this.playing?this.settings.play():this.settings.pause()},play:function(){c[a].helpers.addClass(this.wrapper,this.settings.createPlayer.playingClass)},pause:function(){c[a].helpers.removeClass(this.wrapper,this.settings.createPlayer.playingClass)},updatePlayhead:function(a){var b=this.settings.createPlayer,c=d(b.scrubberClass,this.wrapper);d(b.progressClass,this.wrapper).style.width=c.offsetWidth*a+"px",b=d(b.playedClass,this.wrapper),c=this.duration*a,a=Math.floor(c/60),c=Math.floor(c%60),b.innerHTML=(10>a?"0":"")+a+":"+(10>c?"0":"")+c}},create:function(a,b){return b=b||{},a.length?this.createAll(b,a):this.newInstance(a,b)},createAll:function(a,b){var c=b||document.getElementsByTagName("audio"),d=[];a=a||{};for(var e=0,f=c.length;f>e;e++)d.push(this.newInstance(c[e],a));return d},newInstance:function(a,d){var e=this.helpers.clone(this.settings),f="audiojs"+this.instanceCount,g="audiojs_wrapper"+this.instanceCount;return this.instanceCount++,null!=a.getAttribute("autoplay")&&(e.autoplay=!0),null!=a.getAttribute("loop")&&(e.loop=!0),"none"==a.getAttribute("preload")&&(e.preload=!1),d&&this.helpers.merge(e,d),e.createPlayer.markup?a=this.createPlayer(a,e.createPlayer,g):a.parentNode.setAttribute("id",g),g=new c[b](a,e),this.attachEvents(g.wrapper,g),this.instances[f]=g},createPlayer:function(a,b,c){var d=document.createElement("div"),e=a.cloneNode(!0);return d.setAttribute("class","audiojs"),d.setAttribute("className","audiojs"),d.setAttribute("id",c),e.outerHTML&&!document.createElement("audio").canPlayType?(e=this.helpers.cloneHtml5Node(a),d.innerHTML=b.markup,d.appendChild(e),a.outerHTML=d.outerHTML,d=document.getElementById(c)):(d.appendChild(e),d.innerHTML+=b.markup,a.parentNode.replaceChild(d,a)),d.getElementsByTagName("audio")[0]},attachEvents:function(b,e){if(e.settings.createPlayer){var f=e.settings.createPlayer,g=d(f.playPauseClass,b),h=d(f.scrubberClass,b);c[a].events.addListener(g,"click",function(){e.playPause.apply(e)}),c[a].events.addListener(h,"click",function(a){a=a.clientX;var b=this,c=0;if(b.offsetParent)do c+=b.offsetLeft;while(b=b.offsetParent);e.skipTo((a-c)/h.offsetWidth)}),c[a].events.trackLoadProgress(e),c[a].events.addListener(e.element,"timeupdate",function(){e.updatePlayhead.apply(e)}),c[a].events.addListener(e.element,"ended",function(){e.trackEnded.apply(e)}),c[a].events.addListener(e.source,"error",function(){clearInterval(e.readyTimer),clearInterval(e.loadTimer),e.settings.loadError.apply(e)})}},helpers:{merge:function(a,b){for(attr in b)(a.hasOwnProperty(attr)||b.hasOwnProperty(attr))&&(a[attr]=b[attr])},clone:function(a){if(null==a||"object"!=typeof a)return a;var c,b=new a.constructor;for(c in a)b[c]=arguments.callee(a[c]);return b},addClass:function(a,b){RegExp("(\\s|^)"+b+"(\\s|$)").test(a.className)||(a.className+=" "+b)},removeClass:function(a,b){a.className=a.className.replace(RegExp("(\\s|^)"+b+"(\\s|$)")," ")},cloneHtml5Node:function(a){var b=document.createDocumentFragment(),c=b.createElement?b:document;return c.createElement("audio"),c=c.createElement("div"),b.appendChild(c),c.innerHTML=a.outerHTML,c.firstChild}},events:{memoryLeaking:!1,listeners:[],addListener:function(b,d,e){b.addEventListener?b.addEventListener(d,e,!1):b.attachEvent&&(this.listeners.push(b),this.memoryLeaking||(window.attachEvent("onunload",function(){if(this.listeners)for(var b=0,d=this.listeners.length;d>b;b++)c[a].events.purge(this.listeners[b])}),this.memoryLeaking=!0),b.attachEvent("on"+d,function(){e.call(b,window.event)}))},trackLoadProgress:function(a){if(a.settings.preload){var b,c;a=a;var d=/(ipod|iphone|ipad)/i.test(navigator.userAgent);b=setInterval(function(){a.element.readyState>-1&&(d||a.init.apply(a)),a.element.readyState>1&&(a.settings.autoplay&&a.play.apply(a),clearInterval(b),c=setInterval(function(){a.loadProgress.apply(a),a.loadedPercent>=1&&clearInterval(c)}))},10),a.readyTimer=b,a.loadTimer=c}},purge:function(a){var c,b=a.attributes;if(b)for(c=0;c<b.length;c+=1)"function"==typeof a[b[c].name]&&(a[b[c].name]=null);if(b=a.childNodes)for(c=0;c<b.length;c+=1)purge(a.childNodes[c])},ready:function(){return function(a){var b=window,c=!1,d=!0,e=b.document,f=e.documentElement,g=e.addEventListener?"addEventListener":"attachEvent",h=e.addEventListener?"removeEventListener":"detachEvent",i=e.addEventListener?"":"on",j=function(d){("readystatechange"!=d.type||"complete"==e.readyState)&&(("load"==d.type?b:e)[h](i+d.type,j,!1),!c&&(c=!0)&&a.call(b,d.type||d))},k=function(){try{f.doScroll("left")}catch(a){return void setTimeout(k,50)}j("poll")};if("complete"==e.readyState)a.call(b,"lazy");else{if(e.createEventObject&&f.doScroll){try{d=!b.frameElement}catch(l){}d&&k()}e[g](i+"DOMContentLoaded",j,!1),e[g](i+"readystatechange",j,!1),b[g](i+"load",j,!1)}}}()}},c[b]=function(a,b){this.element=a,this.wrapper=a.parentNode,this.source=a.getElementsByTagName("source")[0]||a,this.mp3=function(a){var b=a.getElementsByTagName("source")[0];return a.getAttribute("src")||(b?b.getAttribute("src"):null)}(a),this.settings=b,this.loadStartedCalled=!1,this.loadedPercent=0,this.duration=1,this.playing=!1},c[b].prototype={updatePlayhead:function(){this.settings.updatePlayhead.apply(this,[this.element.currentTime/this.duration])},skipTo:function(a){a>this.loadedPercent||(this.element.currentTime=this.duration*a,this.updatePlayhead())},load:function(b){this.loadStartedCalled=!1,this.source.setAttribute("src",b),this.element.load(),this.mp3=b,c[a].events.trackLoadProgress(this)},loadError:function(){this.settings.loadError.apply(this)},init:function(){this.settings.init.apply(this)},loadStarted:function(){return this.element.duration?(this.duration=this.element.duration,this.updatePlayhead(),void this.settings.loadStarted.apply(this)):!1},loadProgress:function(){null!=this.element.buffered&&this.element.buffered.length&&(this.loadStartedCalled||(this.loadStartedCalled=this.loadStarted()),this.loadedPercent=this.element.buffered.end(this.element.buffered.length-1)/this.duration,this.settings.loadProgress.apply(this,[this.loadedPercent]))},playPause:function(){this.playing?this.pause():this.play()},play:function(){/(ipod|iphone|ipad)/i.test(navigator.userAgent)&&0==this.element.readyState&&this.init.apply(this),this.settings.preload||(this.settings.preload=!0,this.element.setAttribute("preload","auto"),c[a].events.trackLoadProgress(this)),this.playing=!0,this.element.play(),this.settings.play.apply(this)},pause:function(){this.playing=!1,this.element.pause(),this.settings.pause.apply(this)},setVolume:function(a){this.element.volume=a},trackEnded:function(){this.skipTo.apply(this,[0]),this.settings.loop||this.pause.apply(this),this.settings.trackEnded.apply(this)}};var d=function(a,b){var c=[];if(b=b||document,b.getElementsByClassName)c=b.getElementsByClassName(a);else{var d,e,f=b.getElementsByTagName("*"),g=RegExp("(^|\\s)"+a+"(\\s|$)");for(d=0,e=f.length;e>d;d++)g.test(f[d].className)&&c.push(f[d])}return c.length>1?c:c[0]}}("audiojs","audiojsInstance",this);