<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>一体机详细信息</title>
    <link rel="stylesheet" type="text/css" href="../../theme/icon.css" />
    <link rel="stylesheet" type="text/css" href="../../css/app.css" />
    <link rel="stylesheet" type="text/css" href="../../css/main.css" />
    <link rel="stylesheet" type="text/css" href="../../css/icon.css" />
    <link type="text/css" href="../../css/dev.css" rel="stylesheet" />
    <script type="text/javascript" src="../../js/jquery.min.js"></script>
    <script type="text/javascript" src="../../js/jquery.easyui.min.js"></script>
    <script type="text/javascript" src="../../js/easyui-lang-zh_CN.js"></script>
    <script type="text/javascript" src="../../js/linq.min.js"></script>
    <script type="text/javascript" src="../../js/data.util.js"></script>
    <script type="text/javascript" src="../../js/jquery.dev.control.js"></script>
    <style type="text/css">
        .leftinfo {
            height: 215px;
            width: 500px;
            display: inline-block;
            float: left;
        }

            .leftinfo .item {
                height: 35px;
                width: 248px;
                border-bottom: 1px dashed #ddd;
                display: inline-block;
                float: left;
            }

                .leftinfo .item .title {
                    width: 65px;
                    height: 35px;
                    padding-right: 5px;
                    text-align: right;
                    display: inline-block;
                    float: left;
                    line-height: 35px;
                }

                .leftinfo .item .value {
                    width: 171px;
                    height: 35px;
                    padding-left: 5px;
                    display: inline-block;
                    line-height: 35px;
                    overflow-x: hidden;
                    overflow-y: auto;
                }

        .detail {
            width: 144px;
            height: 29px;
            text-align: center;
            display: inline-block;
            border-bottom: 1px dashed #ddd;
            line-height: 30px;
            float: left;
        }

        .part {
            border-right: 1px dashed #ddd;
        }
    </style>
    <script type="text/javascript">
        var Dev = window.top.window.dev;
        var parent, id;
        function WidgetCommunication(s) {//部件通讯
            parent = s.parent;
            id = s.param.id;
            //初始化tab
            $(".title").css("color", "grey");
            getData();
        }
        //获取当前数据
        function getData() {
            $.ajax({
                type: "get",
                url: Dev.cookie.baseUri + "allinone/getbyfilter/\"ID\"=\'" + id + "\'",
                success: function (response) {
                    loadData(response.data[0]);
                }
            });
        }
        function getOrgnamebyid(orgid) {
            var orgname;
            $.ajax({
                type: "get",
                async: false,
                url: Dev.cookie.baseUri + "organize/getOrganizeNameById/" + orgid,
                success: function (response) {
                    orgname = response.data;
                }
            });
            return orgname;
        }
        function loadData(data) {
            if (Dev.IsNull(data)) return;
            $.each(data, function (e, o) {
                var curr = $('div[name="' + e + '"]');
                if (!Dev.IsNull(curr) && curr.length > 0) {
                    if (e == "harddisk" || e == "maxcpu") o = o + " T";
                    if (e == "orgid") o = getOrgnamebyid(o);
                    if (e == "deadline") o = Dev.IsNull(o) ? "长期有效" : Dev.GetDateString(o);
                    curr.html(o);
                }
            });
            //显示行政区
            var xzq = "";
            if (!Dev.IsNullAll(data.province)) xzq += data.province + " ";
            if (!Dev.IsNullAll(data.city)) xzq += data.city + " ";
            if (!Dev.IsNullAll(data.county)) xzq += data.county + " ";
            if (!Dev.IsNullAll(data.town)) xzq += data.town + " ";
            if (!Dev.IsNullAll(data.village)) xzq += data.village + " ";
            $("div[name='xzqtext'").html(xzq);
        }
    </script>
</head>
<body>
    <div style="height: 350px; width: 500px;">
        <div class="leftinfo">
            <div class="item">
                <div class="title">一体机编号</div>
                <div name="no" class="value part"></div>
            </div>
            <div class="item">
                <div class="title">序列号</div>
                <div name="serialnumber" class="value"></div>
            </div>
            <div class="item" style="width: 500px;">
                <div class="title">组织机构</div>
                <div name="orgid" class="value" style="width: 425px"></div>
            </div>
            <div class="item">
                <div class="title">操作系统</div>
                <div class="value part" name="system"></div>
            </div>
            <div class="item">
                <div class="title">一体机类型</div>
                <div name="type" class="value"></div>
            </div>
            <div class="item">
                <div class="title">品牌型号</div>
                <div name="spec" class="value part"></div>
            </div>
            <div class="item">
                <div class="title">有效日期</div>
                <div name="deadline" class="value"></div>
            </div>
            <div class="item">
                <div class="title">最大内存</div>
                <div name="maxcpu" class="value part"></div>
            </div>
            <div class="item">
                <div class="title">硬盘容量</div>
                <div name="harddisk" class="value"></div>
            </div>
            <div class="item" >
                <div class="title">经度</div>
                <div name="longitude" class="value part"></div>
            </div>
            <div class="item" >
                <div class="title">纬度</div>
                <div name="latitude" class="value"></div>
            </div>
            <div class="item" style="width: 500px;">
                <div class="title">详细地址</div>
                <div name="address" class="value" style="width: 425px"></div>
            </div>
            <div class="item" style="width: 500px; height: 80px">
                <div class="title" style="margin-top:15px;">备注</div>
                <div name="remark" class="value" style="width: 425px; height: 80px;line-height:17px;"></div>
            </div>
        </div>
    </div>
</body>
</html>
